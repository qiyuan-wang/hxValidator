<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>HxValidator by qiyuan-wang</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="stylesheets/stylesheet.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>HxValidator</h1>
        <p>A lightweight, easily scalable JavaScript form validation library</p>

        <p class="view"><a href="https://github.com/qiyuan-wang/hxValidator">View the Project on GitHub <small>qiyuan-wang/hxValidator</small></a></p>


        <ul>
          <li><a href="https://github.com/qiyuan-wang/hxValidator/archive/v0.1.1.zip">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/qiyuan-wang/hxValidator/archive/v0.1.1.tar.gz">Download <strong>TAR Ball</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="hx-validatorjs" class="anchor" href="#hx-validatorjs"><span class="octicon octicon-link"></span></a>hx-validator.js</h1>

<p>Just write the requirements on DOM data- attributes, <strong>hx-Validator</strong> would handle the validation stuff.</p>

<p>And it's pure JS.</p>

<h2>
      <a name="demo" class="anchor" href="#demo"><span class="octicon octicon-link"></span></a>Demo</h2>
      <form id="hxValidator">
        <div class="hxValidator-field">
          <label for="username"><i class="form-icons label-icon icon-white-user" title="Username"></i></label>
          <input name="username" type="text" data-max-length="10" data-required="true" data-min-length="3" id="username" value='' placeholder="Username" />
          <span class='hints'>3 - 10 alphabet, numbers and underscores.</span>
          <i class="form-icons icon"></i>
          <span class="errors error-txt"></span>
        </div>
        <div class="hxValidator-field">
          <label for="email"><i class="form-icons label-icon icon-white-email"  title="Email"></i></label>
          <input name="email" type="text" data-email="true" id="email" value='' placeholder="Email" />
          <span class='hints'></span>
          <i class="form-icons icon"></i>
          <span class="errors error-txt"></span>
        </div>
        <div class="hxValidator-field">
          <label for="password"><i class="form-icons label-icon icon-white-unlock" title="Password"></i></label>
          <input name="password" type="password" data-max-length="10" data-min-length="3" id="password" placeholder="Password" />
          <span class='hints'></span>
          <i class="form-icons icon"></i>
          <span class="errors error-txt"></span>
        </div>
        <div class="hxValidator-field">
          <label for="comfirm_password"><i class="form-icons label-icon  icon-white-lock" title="Password_confirm"></i></label>
          <input name="comfirm_password" type="password" data-required="true" data-match="password|" id="comfirm_password" placeholder="Password Confirm" />
          <span class='hints'></span>
          <i class="form-icons icon"></i>
          <span class="errors error-txt"></span>
        </div>
        <div>
          <button name="submit" type="submit">GO!</button>
        </div>
      </form>

<h2>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Pure javascript, no more libraries for dependency.</li>
<li>Easy to use, only data- attributes and one line js.</li>
<li>Easy to customize, you can change those classes names and styles at your ease.</li>
<li>Easy to extend, you can write your own validating function for special inputs easily.</li>
</ul><h2>
<a name="browser-compatibility" class="anchor" href="#browser-compatibility"><span class="octicon octicon-link"></span></a>Browser Compatibility</h2>

<p>Tested in the following browsers/versions:</p>

<ul>
<li>Google Chrome 27+</li>
<li>Internet Explorer 9.0+ (Sorry, IE8)</li>
<li>Firefox 30+</li>
<li>Safari 5.1+</li>
</ul><p>Don't have much time and conditions on Compatibility test, and let me know if you got any information about this.</p>

<h2>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h2>

<h3>
<a name="markup" class="anchor" href="#markup"><span class="octicon octicon-link"></span></a>Markup</h3>

<pre><code>&lt;!---- embed hxValidator --&gt;
&lt;script type="text/javascript" src="/your/path/to/hx-validator.js"&gt;&lt;/scirpt&gt;

&lt;form id="hxValidator"&gt;
  &lt;!---- a input field wrap --&gt;
  &lt;div class="hxValidator-field"&gt;
    &lt;input name="username" type="text" value='' placeholder="Username" data-your-requirements /&gt;&lt;!---- write requirements here --&gt;
    &lt;span class='hints'&gt;write hints text here &lt;/span&gt;
    &lt;span class="errors error-txt"&gt;&lt;/span&gt;&lt;!---- erorr messages tag, leave it empty --&gt;
  &lt;/div&gt;
  &lt;input name="submit" type="submit" value='Submit' /&gt;
&lt;/form&gt;
</code></pre>

<p>Basicly, an input field should have those things below:</p>

<ol>
<li>A div tag with '.hxvalidator-field';</li>
<li>An input tag, with data- attibutes of requirements;</li>
<li>An hints tag, and your hints for the field, you can leave it empty;</li>
<li>An errors tags, leave it empty, error messages would be written in options.</li>
</ol><p>That's all. </p>

<p>And you can add other tags you like, like this <a href="#demo">example</a>.</p>

<h3>
<a name="support-validate-requirements" class="anchor" href="#support-validate-requirements"><span class="octicon octicon-link"></span></a>Support validate requirements:</h3>

<h4>
<a name="required" class="anchor" href="#required"><span class="octicon octicon-link"></span></a>required</h4>

<p>format: <code>data-required="true"</code></p>

<p>error message: <code>This field is required</code></p>

<h4>
<a name="min-length" class="anchor" href="#min-length"><span class="octicon octicon-link"></span></a>min-length</h4>

<p>format: <code>data-min-length="{number required}"</code></p>

<p>error message: <code>This field needs %s characters at least</code></p>

<p>The <code>%s</code> would be replace with the <code>number required</code> you set when the error message shows.</p>

<h4>
<a name="max-length" class="anchor" href="#max-length"><span class="octicon octicon-link"></span></a>max-length</h4>

<p>format: <code>data-max-length="{number required}"</code></p>

<p>error message: <code>This field needs %s characters at most</code></p>

<p>The <code>%s</code> would be replace with the <code>number required</code> you set when the error message shows.</p>

<h4>
<a name="phone" class="anchor" href="#phone"><span class="octicon octicon-link"></span></a>phone</h4>

<p>format: <code>data-phone="true"</code></p>

<p>error message: <code>Not a valid phone number</code></p>

<p>You should change the <code>phoneRegex</code> for your local phone format from src. The default is Chinese phone format.</p>

<h4>
<a name="number" class="anchor" href="#number"><span class="octicon octicon-link"></span></a>number</h4>

<p>format: <code>data-number="true"</code></p>

<p>error message: <code>Numbers only</code></p>

<h4>
<a name="not-all-number" class="anchor" href="#not-all-number"><span class="octicon octicon-link"></span></a>not all number</h4>

<p>format: <code>data-not-all-number="true"</code></p>

<p>error message: <code>Can't be all numbers</code></p>

<h4>
<a name="match" class="anchor" href="#match"><span class="octicon octicon-link"></span></a>match</h4>

<p>format: <code>data-match="{name attribute}|"</code></p>

<p>error message: <code>Does not match the %s field</code></p>

<p>The <code>%s</code> would be replace with the target input field <code>name attribute</code> you set when the error message shows.</p>

<p>And the last <code>|</code> is required and you could add a <code>alias</code> for the target field after the <code>|</code>.</p>

<p>This validation is useful as password confirmation. For example,</p>

<pre><code>&lt;div class="hxValidator-field"&gt;
  &lt;input name="password" type="password" data-max-length="12" data-min-length="6" id="password" /&gt;
  &lt;span class='hints'&gt;&lt;/span&gt;
  &lt;span class="errors error-txt"&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class="hxValidator-field"&gt;
  &lt;input name="comfirm_password" type="password" data-match="password|密码" id="comfirm_password" /&gt;
  &lt;span class='hints'&gt;&lt;/span&gt;
  &lt;span class="errors error-txt"&gt;&lt;/span&gt;
&lt;/div&gt;
</code></pre>

<h4>
<a name="custom-validation" class="anchor" href="#custom-validation"><span class="octicon octicon-link"></span></a>custom validation</h4>

<p>You can easily extend hxValidator to a special requirment on your own.</p>

<p>You have to supply 3 elements:</p>

<ol>
<li>A name for the validation；</li>
<li>A validate function with a 'field' parameter, and a option parameter for data- attribute's value;</li>
<li>A error message for this validation;</li>
</ol><p>The validaton name should follow <strong>lowerCamelCase format in JS</strong>, and <strong>lowercased joint with '-' in HTML</strong>.</p>

<p>The <code>field</code> is the field's DOM and you can get the value of user inputs by calling <code>field.value</code>.</p>

<p>And the validate function should return <code>true</code> when the value meets the  requirement, <code>false</code> for failed.</p>

<p>That' all. Wrap those into the <code>options</code> passed to hxValidator.</p>

<p>Let's see a example:</p>

<pre><code>// You can not use those names as username
var forbiddenNames = "admin Daisy" // Yeah, I don't like Daisy!

// optional is the value of the data- attribute
var forbiddenNameValidate = function (field, optional) {
    var inputValue = field.value;
    return (forbiddenNames.indexOf(inputValue) &lt; 0);
}

var options = {
    messages: {forbiddenUsername: "This username is not allowed"},
    customCheckMethods: {
        forbiddenUsername: forbiddenNameValidate
    }
}

// init the validator
new hxValidator("#register_form", options);

// HTML
&lt;div class="hxValidator-field"&gt;
  &lt;input name="username" type="text" data-forbidden-username="true" id="username" /&gt;
  &lt;span class='hints'&gt;&lt;/span&gt;
  &lt;span class="errors error-txt"&gt;&lt;/span&gt;
&lt;/div&gt;
</code></pre>

<p>This gives you flexibility at most. You could even write <strong>Remote check</strong> with your backend server for some special field.</p>

<p>Check <a href="http://www.huxiu.com/user/register.html">this example</a> Which check the uniqueness of username, email, and even a validation code. </p>

<p><strong>P.S.:</strong><br>
Current version only supports text or password type of inputs, and will support checkbox in next few versions.</p>

<h3>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>Options</h3>

<p>All those below you can customize.</p>

<h4>
<a name="wrapperclass" class="anchor" href="#wrapperclass"><span class="octicon octicon-link"></span></a>wrapperClass</h4>

<p><code>default: ".hxValidator-field"</code></p>

<p>Wrapper tag's class.</p>

<h4>
<a name="errorsclass" class="anchor" href="#errorsclass"><span class="octicon octicon-link"></span></a><strong>errorsClass</strong>
</h4>

<p><code>default: ".errors"</code></p>

<p>Errors tag's class.</p>

<h4>
<a name="hintsclass" class="anchor" href="#hintsclass"><span class="octicon octicon-link"></span></a><strong>hintsClass</strong>
</h4>

<p><code>default: ".hints"</code></p>

<p>Hints tag's class.</p>

<h4>
<a name="messages" class="anchor" href="#messages"><span class="octicon octicon-link"></span></a><strong>messages</strong>
</h4>

<p><code>default:</code></p>

<pre><code>  messages: {
    required: "This field is required",
    minLength: "This field needs %s characters at least",
    maxLength: "This field needs %s characters at most",
    phone: "Not a valid phone number",
    email: "Not a valid Email address",
    number: "Numbers only",
    notAllNumber: "Can't be all numbers",
    match: "Does not match the %s field"
  }
</code></pre>

<p>Error messages.</p>

<h4>
<a name="errorcallback" class="anchor" href="#errorcallback"><span class="octicon octicon-link"></span></a><strong>errorCallback</strong>
</h4>

<p><code>default: null</code></p>

<p>You can define a callback function which would be called when a field failed the validation. </p>

<p><strong>The function should have a paramter <code>field</code>, which is the field's DOM.</strong></p>

<h4>
<a name="successcallback" class="anchor" href="#successcallback"><span class="octicon octicon-link"></span></a><strong>successCallback</strong>
</h4>

<p><code>default: null</code></p>

<p>You can define a callback function which would be called when a field passed the validation.</p>

<p><strong>The function should have a paramter <code>field</code>, which is the field's DOM.</strong></p>

<h4>
<a name="focuscallback" class="anchor" href="#focuscallback"><span class="octicon octicon-link"></span></a><strong>focusCallback</strong>
</h4>

<p><code>default: null</code></p>

<p>You can define a callback function which would be called when a field got focused.</p>

<p><strong>The function should have a paramter <code>field</code>, which is the field's DOM.</strong></p>

<p>Check <a href="http://www.huxiu.com/user/register.html">this example</a> Which use all thoese callbacks for styling with pass/failed icons. </p>

<h2>
<a name="changelog" class="anchor" href="#changelog"><span class="octicon octicon-link"></span></a>Changelog</h2>

<ul>
<li>0.1.0 release</li>
<li>0.0.10 add readme</li>
<li>0.0.9 rewrite with pure js</li>
<li>0.0.5 delay Remote validation check</li>
<li>0.0.2 add examples.html</li>
</ul><h2>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>Todo</h2>

<ul>
<li>add supports for checkbox and select</li>
<li>add localization</li>
<li>reorganize structure of options </li>
</ul><h2>
<a name="one-more-thing" class="anchor" href="#one-more-thing"><span class="octicon octicon-link"></span></a>One more thing</h2>

<p>hxValidator.js was written in jQuery at first, but then rewrote in pure JS.</p>

<p>I kept the jQuery version file in the dist folder(but won't keep maintenance), use at your ease.</p>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>Copyright (c) 2014 zisasign. Licensed under the MIT license.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/qiyuan-wang">qiyuan-wang</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small> and small modified by <a href="https://github.com/qiyuan-wang">qiyuan-wang</a></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
        <script src="javascripts/hxValidator.0.1.0.min.js"></script>
        <script>
          new hxValidator('#hxValidator');
        </script>
  </body>
</html>